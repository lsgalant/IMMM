// Template: multiramp_flt.ui

#if PSI_STANDARD_PARMS
#define	RAMP_HEIGHT
#else
#define	RAMP_HEIGHT HEIGHT(27p)
#endif

#if 0
PSI_TOKEN.field = PARM_FIELD (integer, "PSI_TOKEN")
			VALUE(PSI_TOKEN.val) HSTRETCH(0.5)
			 PREF_WIDTH(0.5);
#endif

PSI_TOKEN.si_rampedit = FLOAT_RAMP VALUE(PSI_TOKEN.ramp_val)
			LAYOUT(horizontal) RAMP_HEIGHT HSTRETCH;

PSI_TOKEN.multiramp = 
{
    LAYOUT(vertical) STRETCH
    HMARGIN(PSI_LEADING_MARGIN, PSI_TRAILING_MARGIN) NO_MARGIN_SPACING_SCALE

    ROW
    {
	JUSTIFY(left,center) SPACING(0.1) VMARGIN(0.02) HSTRETCH

	COL
	{
	    JUSTIFY(right,center) PSI_LABEL_SIZE
	    LABEL "Point No.";
	}

	PSI_TOKEN.pointno.gad
	    = INT_SLIDER_FIELD VALUE(PSI_TOKEN.pointno.val) HSTRETCH;
    }
}

PSI_TOKEN.buttons.gad = COL
{
    VSTRETCH

    ICON_BUTTON_STRIP
    {
	LAYOUT(horizontal) INITSIZE(20p, 20p) 

	ACTION_ICONBUTTON "BUTTONS_delete"
		HELP("Remove Point") VALUE(PSI_TOKEN.delpoint.val);
	ACTION_ICONBUTTON "BUTTONS_add"
		HELP("Add Point") VALUE(PSI_TOKEN.addpoint.val);
    }

    { VSTRETCH }

    ROW
    {
	    PSI_TOKEN.toggleparms.gad
	      = ACTION_ICONBUTTON "BUTTONS_show_controls"
		HELP("Hide Controls", "h.pane.parms.toggle_ramp_parms")
		VALUE(PSI_TOKEN.toggle.val)
		LOOKFLAT UI_FLAT_ICON_BTN_SIZE_TINY;

	    PSI_TOKEN.togglerampsize.gad
	      = ACTION_ICONBUTTON "BUTTONS_restore_mini"
		HELP("Maximize ramp", "h.pane.parms.toggle_ramp_size")
		VALUE(PSI_TOKEN.togglerampsize.val)
		LOOKFLAT UI_FLAT_ICON_BTN_SIZE_TINY;
    }
}

##############################################################################
#if PSI_STANDARD_PARMS

PSI_TOKEN.parm =
{
    LAYOUT(vertical) HSTRETCH JUSTIFY(left, center)

    PSI_TOKEN.ramp.gad = ROW
    {
	MARGIN(0.02) SPACING(0.02) JUSTIFY(left, top) HSTRETCH

	PSI_TOKEN.buttons.gad VSTRETCH;
         
	PSI_TOKEN.si_rampedit HSTRETCH;
    }
}

PSI_TOKEN.gad =
{
    LAYOUT(vertical) MARGIN(2p) HSTRETCH
    HMARGIN(PSI_LEADING_MARGIN, PSI_TRAILING_MARGIN) NO_MARGIN_SPACING_SCALE

    {
	LAYOUT(horizontal) HSTRETCH
#if PSI_USE_LABEL
	PARM_LABEL_SIMPLE("PSI_LABEL", "PSI_TOKEN");
#endif
	{ HSTRETCH }
	ACTION_ICONBUTTON "BUTTONS_ramp_flip_x" VALUE(PSI_TOKEN.reverse.val)
		LOOKFLAT HELP("Reverse Domain") UI_FLAT_ICON_BTN_SIZE_SMALL;
	ACTION_ICONBUTTON "BUTTONS_ramp_flip_y" VALUE(PSI_TOKEN.complement.val)
		LOOKFLAT HELP("Complement Ramp") UI_FLAT_ICON_BTN_SIZE_SMALL;
	PSI_TOKEN.presets
	    = ACTION_MENU_ICONBUTTON "BUTTONS_gear"
		LOOKFLAT HELP("Presets") UI_FLAT_ICON_BTN_SIZE_SMALL;
#include "config/Templates/ParamV3/psi_script_action.ui"
    }

    {
	LAYOUT(vertical) MARGIN(2p) SPACING(0.02) HSTRETCH

	PSI_TOKEN.parm;
	
	SWITCHER tight
	{
	    LAYOUT(overlap) VALUE(PSI_TOKEN.hideparms.val) HSTRETCH
	    PSI_TOKEN.multiramp;
	    {}
	}
    }
}

##############################################################################
#else

PSI_TOKEN.parm =
{
    LAYOUT(horizontal) HSTRETCH JUSTIFY(left, center)

    PSI_TOKEN.ramp.gad = ROW
    {
	HSTRETCH

	PSI_TOKEN.si_rampedit HSTRETCH;
    }
}

PSI_TOKEN.gad =
{
    LAYOUT(horizontal) MARGIN(2p) JUSTIFY(left, center) STRETCH

#if PSI_USE_LABEL
    PARM_LABEL_SIMPLE("PSI_LABEL", "PSI_TOKEN");
#endif

    PSI_TOKEN.parm;

#include "config/Templates/ParamV3/psi_script_action.ui"
}

#endif

#undef RAMP_HEIGHT
